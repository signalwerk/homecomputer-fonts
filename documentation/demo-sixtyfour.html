<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="language" content="en" />
    <meta name="format-detection" content="telephone=no" />
    <style type="text/css">
      @font-face {
        font-family: "Sixtyfour Web";
        src: url("../Sixtyfour/fonts/webfonts/Sixtyfour[BLED,SCAN].woff2")
          format("woff2");
      }

      :root {
        --light-blue: #68a4ff;
        --dark-blue: #083ccf;

        --bleed: 0;
        --scan: 0;
        font-size: 1.4vw;
      }

      body {
        background-color: white;
        font-family: "Sixtyfour Web";
        margin: 0;
        padding: 0;
        display: flex;
      }

      #screen {
        background: var(--light-blue);
        /* background-image: linear-gradient(0deg, var(--light-blue) 33.33%, #000000 33.33%, #000000 50%, var(--light-blue) 50%, var(--light-blue) 83.33%, #000000 83.33%, #000000 100%);
	background-size: 6px 6px; */
        display: inline-block;
        margin: 0;
        padding: 3rem;
        position: relative;
        width: 50rem;

        aspect-ratio: 4 / 3;
      }

      div.controls {
        /* background: #404040; */
        display: flex;
        flex-direction: column;
        font-variation-settings: "SCAN" 0, "BLED" 0;
        margin: 1em 0 0 0;
        padding: 1rem;
        width: 28rem;
      }

      div.controls > div {
        /* background: #808080; */
        margin: 0;
        padding: 1rem;
      }

      label {
        margin-left: 1rem;
        padding: 0;
      }

      input[type="range" i] {
        margin: 0;
        width: 8rem;
        accent-color: #002f5b;
      }

      input,
      label {
        font-size: 1rem;
      }

      pre {
        background: var(--dark-blue);
        /* background-image: linear-gradient(0deg, var(--dark-blue) 33.33%, #000000 33.33%, #000000 50%, var(--dark-blue) 50%, var(--dark-blue) 83.33%, #000000 83.33%, #000000 100%);
	background-size: 6px 6px; */
        color: var(--light-blue);
        font-family: "Sixtyfour Web";
        font-variation-settings: "BLED" var(--bleed), "SCAN" var(--scan);
        line-height: 1.5;
        margin: 0;
        padding: 0;
        word-wrap: break-word;
        /* white-space: break-spaces; */
        white-space: normal;
        font-size: 2.5rem;
        padding: 1rem;
        height: calc(100% - 2rem);
      }
    </style>
    <script type="text/javascript">
      // Variable font settings

      const changeScan = function (e) {
        html.style.setProperty("--scan", e.target.value);
      };
      const changeBleed = function (e) {
        html.style.setProperty("--bleed", e.target.value);
      };

      // Box shadow

      const changeGlow = function (e) {
        const v = e.target.value;
        const shadow = "0 0 " + v + "em #ddd";
        document.querySelector("#screen").style.boxShadow = shadow;
        document.querySelector("pre").style.boxShadow = shadow;
        document.querySelector("pre").style.textShadow = shadow;
      };

      // CSS filters

      const changeBlur = function (e) {
        blur = e.target.value;
        updateFilters();
      };

      const changeBrightness = function (e) {
        brightness = e.target.value;
        updateFilters();
      };

      const changeContrast = function (e) {
        contrast = e.target.value;
        updateFilters();
      };

      const changeSaturation = function (e) {
        saturation = e.target.value;
        updateFilters();
      };

      const updateFilters = function () {
        console.log("updateFilters");
        const flt =
          "brightness(" +
          brightness +
          ") contrast(" +
          contrast +
          ") blur(" +
          blur +
          "px) saturate(" +
          saturation +
          ")";
        console.log(flt);
        document.querySelector("#screen").style.filter = flt;
      };

      var html, brightness, blur, contrast, saturation;

      document.addEventListener("DOMContentLoaded", function () {
        html = document.querySelector("html");

        document.querySelector("#scan").addEventListener("input", changeScan);
        document.querySelector("#bleed").addEventListener("input", changeBleed);

        document.querySelector("#glow").addEventListener("input", changeGlow);

        brightness = document.querySelector("#brightness").value;
        blur = document.querySelector("#blur").value;
        contrast = document.querySelector("#contrast").value;
        saturation = document.querySelector("#saturation").value;

        document.querySelector("#blur").addEventListener("input", changeBlur);
        document
          .querySelector("#brightness")
          .addEventListener("input", changeBrightness);
        document
          .querySelector("#contrast")
          .addEventListener("input", changeContrast);
        document
          .querySelector("#saturation")
          .addEventListener("input", changeSaturation);
      });
    </script>
  </head>
  <body>
    <div id="screen">
      <pre contenteditable="true" spellcheck="false">

*** PIXEL ***     *** FONTS ***
 	 64K RAM SYSTEM 
 READY.
			</pre
      >
    </div>
    <div class="controls">
      <div>
        <input
          type="range"
          id="bleed"
          min="0"
          max="100"
          step="1"
          value="0"
        /><label for="bleed">Bleed</label>
      </div>
      <div>
        <input
          type="range"
          id="scan"
          min="-53"
          max="100"
          step="1"
          value="0"
        /><label for="scan">Scanline</label>
      </div>
      <div>
        <input
          type="range"
          id="glow"
          min="0"
          max="0.8"
          step="0.01"
          value="0"
        /><label for="glow">Glow</label>
      </div>
      <div>
        <input
          type="range"
          id="blur"
          min="0"
          max="5"
          step="1"
          value="0"
        /><label for="blur">Blur</label>
      </div>
      <div>
        <input
          type="range"
          id="brightness"
          min="0.2"
          max="2"
          step="0.01"
          value="1"
        /><label for="brightness">Brightness</label>
      </div>
      <div>
        <input
          type="range"
          id="contrast"
          min="0.1"
          max="5"
          step="0.01"
          value="1"
        /><label for="contrast">Contrast</label>
      </div>
      <div>
        <input
          type="range"
          id="saturation"
          min="0"
          max="2"
          step="0.01"
          value="1"
        /><label for="saturation">Saturation</label>
      </div>
    </div>
  </body>
</html>
